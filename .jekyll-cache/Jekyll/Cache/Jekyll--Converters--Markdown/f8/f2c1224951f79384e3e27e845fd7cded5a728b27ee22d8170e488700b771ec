I"°?<h2 id="ë¦¬ì•¡íŠ¸ì—ì„œì˜-form-ui">ë¦¬ì•¡íŠ¸ì—ì„œì˜ Form UI</h2>

<p>ì‚¬ìš©ì ì…ë ¥ ê¸°ëŠ¥ì„ ë§Œë“¤ ë•Œ,<br />
value, onChange disable ë“±ì˜ ê³ ë ¤í•  ë¶€ë¶„ë“¤ê³¼ ê³ ì‘ ì¸í’‹ì°½ í•˜ë‚˜ì— useStateê°€ ê¸°ë³¸ 2ê°œë‚˜ ìƒì„±ëœë‹¤ëŠ” ì ì´ ë¹„íš¨ìœ¨ ì ì´ê²Œ ëŠê»´ì¡Œë‹¤.</p>

<p><code class="language-plaintext highlighter-rouge">custom hook</code>ìœ¼ë¡œ ë§Œë“¤ì–´ë‘ê³  ì‚¬ìš©í•˜ëŠ” ê²ƒë„ í•˜ë‚˜ì˜ ë°©ë²•ì´ê² ìœ¼ë‚˜,<br />
ìœ ìš©í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë°œê²¬í•´ ê³µìœ í•˜ê³ ì í•œë‹¤ ğŸ¥³</p>

<h3 id="íŒ¨í‚¤ì§€-ì„¤ì¹˜">íŒ¨í‚¤ì§€ ì„¤ì¹˜</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ npm i react-hook-form
$ yarn add react-hook-form
</code></pre></div></div>

<p><img src="./01.png" alt="ì˜ˆì‹œ" /></p>

<h3 id="íŠ¹ì§•">íŠ¹ì§•</h3>

<p>ì¼ë°˜ì ì¸ <code class="language-plaintext highlighter-rouge">form</code>ì„ ë‹¤ë£° ë•Œ ë§ì€ <code class="language-plaintext highlighter-rouge">input</code>ë“¤ì„ ë‹¤ <code class="language-plaintext highlighter-rouge">useState</code>ë¡œ ê´€ë¦¬í•˜ê³  <code class="language-plaintext highlighter-rouge">change</code>í•¨ìˆ˜ë§Œë“¤ê³  í•˜ëŠ” ì¼ì€
ì¤‘ë³µë˜ëŠ” ì½”ë“œë“¤ë„ ë§ê³  ë²ˆê±°ë¡œìš´ ì‘ì—…ì´ ë§ì´ ë“¤ì–´ê°„ë‹¤.
<code class="language-plaintext highlighter-rouge">react hook form</code>ì€ <code class="language-plaintext highlighter-rouge">value</code>ìì²´ê°€ í•„ìš”ì—†ê³  ì œê³µë˜ëŠ” <code class="language-plaintext highlighter-rouge">handlesubmit</code>í•¨ìˆ˜ì—ì„œ ëª¨ë“  <strong><code class="language-plaintext highlighter-rouge">input</code>ê°’ë“¤ì„ ê´€ë¦¬í•  ìˆ˜ ìˆì–´ì„œ êµ‰ì¥íˆ í¸ë¦¬í•˜ê³  íš¨ìœ¨ì ì¸ ì½”ë“œ</strong>ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤!</p>

<h3 id="ì¥ì ">ì¥ì </h3>

<ul>
  <li>inputí•˜ë‚˜ë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•´ ì‘ì„±ë˜ëŠ”, value ìƒíƒœì™€ onChangeì´ë²¤íŠ¸ ë“±ì„ ì§ì ‘ ì‘ì„±í•˜ì§€ ì•Šê³  ì‰½ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤</li>
  <li>Submit í´ë¦­ ì‹œ í•„ìˆ˜ê°’ ì¤‘ ì‘ì„±ë˜ì§€ ì•Šì€ inputìœ¼ë¡œ focusë¥¼ ìë™ìœ¼ë¡œ ì´ë™ì‹œì¼œì¤Œ</li>
  <li>ì—ëŸ¬ì²˜ë¦¬, validationì²˜ë¦¬ê°€ ë§¤ìš° í¸í•¨</li>
</ul>

<h3 id="ì‚¬ìš©-ì˜ˆì‹œ">ì‚¬ìš© ì˜ˆì‹œ</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">useForm</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react-hook-form</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">ToDoList</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">interface</span> <span class="nx">IForm</span> <span class="p">{</span>
    <span class="na">email</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">firstName</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">lastName</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">userName</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">password1</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">password2</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">extraError</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="kd">const</span> <span class="p">{</span>
    <span class="nx">register</span><span class="p">,</span>
    <span class="nx">handleSubmit</span><span class="p">,</span>
    <span class="na">formState</span><span class="p">:</span> <span class="p">{</span> <span class="nx">errors</span> <span class="p">},</span>
    <span class="nx">setError</span><span class="p">,</span>
  <span class="p">}</span> <span class="o">=</span> <span class="nx">useForm</span><span class="o">&lt;</span><span class="nx">IForm</span><span class="o">&gt;</span><span class="p">({</span>
    <span class="na">defaultValues</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">email</span><span class="p">:</span> <span class="dl">"</span><span class="s2">@naver.com</span><span class="dl">"</span><span class="p">,</span>
    <span class="p">},</span>
  <span class="p">});</span>

  <span class="kd">const</span> <span class="nx">onValid</span> <span class="o">=</span> <span class="p">(</span><span class="na">data</span><span class="p">:</span> <span class="nx">IForm</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">password1</span> <span class="o">!==</span> <span class="nx">data</span><span class="p">.</span><span class="nx">password2</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// shouldFocus íŠ¹ì • ì—ëŸ¬ì¼ë•Œ ì»¤ì„œê°€ ì´ë™ë˜ë„ë¡ í•¨</span>
      <span class="nx">setError</span><span class="p">(</span>
        <span class="dl">"</span><span class="s2">password1</span><span class="dl">"</span><span class="p">,</span>
        <span class="p">{</span> <span class="na">message</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Password are not the same</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">shouldFocus</span><span class="p">:</span> <span class="kc">true</span> <span class="p">}</span>
      <span class="p">);</span>
    <span class="p">}</span>
    <span class="c1">// ë°±ì—”ë“œ ì—ëŸ¬ë¼ ê°€ì •í•˜ê³ , formì „ì²´ ì—ëŸ¬ ì˜ˆì œì„</span>
    <span class="nx">setError</span><span class="p">(</span><span class="dl">"</span><span class="s2">extraError</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span> <span class="na">message</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Server offline</span><span class="dl">"</span> <span class="p">});</span>
  <span class="p">};</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">form</span>
        <span class="nx">style</span><span class="o">=</span>
        <span class="nx">onSubmit</span><span class="o">=</span><span class="p">{</span><span class="nx">handleSubmit</span><span class="p">(</span><span class="nx">onValid</span><span class="p">)}</span>
      <span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">input</span>
          <span class="p">{...</span><span class="nx">register</span><span class="p">(</span><span class="dl">"</span><span class="s2">email</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">required</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Email is required</span><span class="dl">"</span><span class="p">,</span>
            <span class="na">pattern</span><span class="p">:</span> <span class="p">{</span>
              <span class="na">value</span><span class="p">:</span> <span class="sr">/^</span><span class="se">[</span><span class="sr">A-Za-z0-9._%+-</span><span class="se">]</span><span class="sr">+@naver.com$/</span><span class="p">,</span>
              <span class="na">message</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Only naver.com emails allowed</span><span class="dl">"</span><span class="p">,</span>
            <span class="p">},</span>
          <span class="p">})}</span>
          <span class="nx">placeholder</span><span class="o">=</span><span class="dl">"</span><span class="s2">Email</span><span class="dl">"</span>
        <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="nx">span</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">errors</span><span class="p">?.</span><span class="nx">email</span><span class="p">?.</span><span class="nx">message</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">input</span>
          <span class="p">{...</span><span class="nx">register</span><span class="p">(</span><span class="dl">"</span><span class="s2">firstName</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">required</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="c1">// validate ì¡°ê±´ ì¶”ê°€</span>
            <span class="na">validate</span><span class="p">:</span> <span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="o">!</span><span class="nx">value</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="dl">"</span><span class="s2">aa</span><span class="dl">"</span><span class="p">),</span>
          <span class="p">})}</span>
          <span class="nx">placeholder</span><span class="o">=</span><span class="dl">"</span><span class="s2">FirstName</span><span class="dl">"</span>
        <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="nx">input</span>
          <span class="p">{...</span><span class="nx">register</span><span class="p">(</span><span class="dl">"</span><span class="s2">lastName</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span> <span class="na">required</span><span class="p">:</span> <span class="kc">true</span> <span class="p">})}</span>
          <span class="nx">placeholder</span><span class="o">=</span><span class="dl">"</span><span class="s2">LastName</span><span class="dl">"</span>
        <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="nx">input</span>
          <span class="p">{...</span><span class="nx">register</span><span class="p">(</span><span class="dl">"</span><span class="s2">userName</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span> <span class="na">required</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="na">minLength</span><span class="p">:</span> <span class="mi">10</span> <span class="p">})}</span>
          <span class="nx">placeholder</span><span class="o">=</span><span class="dl">"</span><span class="s2">UserName</span><span class="dl">"</span>
        <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="nx">input</span>
          <span class="p">{...</span><span class="nx">register</span><span class="p">(</span><span class="dl">"</span><span class="s2">password1</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">required</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Password1 is required</span><span class="dl">"</span><span class="p">,</span>
            <span class="na">minLength</span><span class="p">:</span> <span class="p">{</span>
              <span class="na">value</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
              <span class="na">message</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Your password is too short</span><span class="dl">"</span><span class="p">,</span>
            <span class="p">},</span>
          <span class="p">})}</span>
          <span class="nx">placeholder</span><span class="o">=</span><span class="dl">"</span><span class="s2">Password1</span><span class="dl">"</span>
        <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="nx">span</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">errors</span><span class="p">?.</span><span class="nx">password1</span><span class="p">?.</span><span class="nx">message</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">input</span>
          <span class="p">{...</span><span class="nx">register</span><span class="p">(</span><span class="dl">"</span><span class="s2">password2</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">required</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Password2 is required</span><span class="dl">"</span><span class="p">,</span>
            <span class="na">minLength</span><span class="p">:</span> <span class="p">{</span>
              <span class="na">value</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
              <span class="na">message</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Your password is too short</span><span class="dl">"</span><span class="p">,</span>
            <span class="p">},</span>
          <span class="p">})}</span>
          <span class="nx">placeholder</span><span class="o">=</span><span class="dl">"</span><span class="s2">Password2</span><span class="dl">"</span>
        <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="nx">button</span><span class="o">&gt;</span><span class="nx">Add</span><span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">span</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">errors</span><span class="p">?.</span><span class="nx">extraError</span><span class="p">?.</span><span class="nx">message</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/form</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">ToDoList</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="tip">Tip!</h3>

<p>ì™¸ë¶€ UIë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ í•¨ê»˜ ì‚¬ìš©í•˜ê²Œ ë  ê²½ìš°,<br />
ë“±ë¡ í”„ë¡œì„¸ìŠ¤ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì´ìš©í•˜ë©´ëœë‹¤.</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	<span class="p">...</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">form</span> <span class="nx">onSubmit</span><span class="o">=</span><span class="p">{</span><span class="nx">handleSubmit</span><span class="p">(</span><span class="nx">onSubmit</span><span class="p">)}</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">Controller</span>
        <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">firstName</span><span class="dl">"</span>
        <span class="nx">control</span><span class="o">=</span><span class="p">{</span><span class="nx">control</span><span class="p">}</span>
        <span class="nx">render</span><span class="o">=</span><span class="p">{({</span> <span class="nx">field</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="nx">Input</span> <span class="p">{...</span><span class="nx">field</span><span class="p">}</span> <span class="sr">/&gt;} /</span><span class="o">/</span> <span class="o">&lt;-</span> <span class="nx">UIë¼ì´ë¸ŒëŸ¬ë¦¬</span> <span class="nx">ìš”ì†Œ</span> <span class="nx">ì‚¬ìš©</span>
      <span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="nx">input</span> <span class="kd">type</span><span class="o">=</span><span class="dl">"</span><span class="s2">submit</span><span class="dl">"</span> <span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="sr">/form</span><span class="err">&gt;
</span>  <span class="p">);</span>

</code></pre></div></div>
:ET